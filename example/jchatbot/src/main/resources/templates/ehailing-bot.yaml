"START-MENU":
  type: button
  message:
    title: PickDrive
    body: "Hi {{ s.waName }}, I'm PickDrive Assistant - making your inner-city travelling a breeze.\n\nTo start, click the button below"
    footer: jawce
    buttons:
      - eHailing
      - GitHub
  routes:
    "ehailing": "PICKUP-DRIVE-MAIN-MENU"
    "github": "DEVELOPER-GITHUB"

"DEVELOPER-GITHUB":
  type: cta
  message:
    title: "WCE"
    body: "Checkout jawce repository. You are welcome to star, fork, share, donate or contribute ðŸ˜€"
    url: "https://github.com/DonnC/jawce"
    button: "Github"
  routes:
    "re:.*": "START-MENU"

"PICKUP-DRIVE-MAIN-MENU":
  type: button
  prop: rideType
  message:
    title: PickDrive
    body: "To offer you with exclusive riding experience `{{ s.waName }}`, select your preferred ride type"
    footer: jawce
    buttons:
      - Ride
      - Standard
      - Luxury
  routes:
    "re:.*": "PICKUP-LOCATION"

"PICKUP-LOCATION":
  type: request-location
  message: "Where would you like to be picked from?"
  routes:
    "location_request": "DESTINATION-LOCATION"

"DESTINATION-LOCATION":
  type: request-location
  message: "Where would you like to go?"
  routes:
    "location_request": "RIDE-OFFER"

"RIDE-OFFER":
  type: button
  message:
    title: Ride Fee
    body: "Your ride fee to your destination is USD $3.50\nYou will arrive in ~8mins"
    buttons:
      - Accept
      - Counter Offer
  routes:
    "accept": "RIDE-COMMENT"
    "counter offer": "RIDE-COUNTER-OFFER"

"RIDE-COMMENT":
  type: text
  prop: rideComment
  message: "Provide additional info to the driver"
  routes:
    "re:.*": "CONFIRM-OFFER"

"CONFIRM-OFFER":
  type: button
  on-receive: "zw.co.dcl.jchatbot.hooks.CaptureHook.capture"
  typing: true
  message:
    title: PickDrive Ride
    body: |
      - Ride: `{{ p.rideType }}`
      - Driver: `Donald`
      - Vehicle Color: `Silver`
      - Reg Number: `QZW 0123`
      
      Confirm to notify the driver to come pick you up now
    buttons:
      - Confirm
      - Abort
  routes:
    "confirm": "DRIVER-COMMAND-COME"
    "abort": "PICKUP-DRIVE-MAIN-MENU"

"DRIVER-COMMAND-COME":
  type: button
  message:
    title: PickDrive
    body: "Driver is coming to your location now!"
    buttons:
      - Report
  routes:
    "rate": "REPORT"
